[gd_scene load_steps=35 format=3 uid="uid://c6hdeaefjygl6"]

[ext_resource type="Script" uid="uid://cboysnpuaywcv" path="res://scripts/charting.gd" id="1_4opbx"]
[ext_resource type="Texture2D" uid="uid://by7cg2bl0ig0o" path="res://assets/happy.png" id="2_4opbx"]
[ext_resource type="Script" uid="uid://brcd6fqo2bp2h" path="res://scripts/edit_create.gd" id="2_umwmv"]
[ext_resource type="Script" uid="uid://dw5sk8y5e8n5k" path="res://scripts/chart_list.gd" id="3_injk5"]
[ext_resource type="Texture2D" uid="uid://4w8heerdtghr" path="res://assets/Gre.png" id="3_rfu2s"]
[ext_resource type="Script" uid="uid://cyon2rylyapft" path="res://scripts/camera_2d.gd" id="3_toh77"]
[ext_resource type="Texture2D" uid="uid://ba7kub3sy6a0b" path="res://assets/Blu.png" id="4_lq02i"]
[ext_resource type="Texture2D" uid="uid://1e7uybs2s0kr" path="res://assets/Arrow.png" id="6_snw3p"]
[ext_resource type="Script" uid="uid://bchm4vyy1tifr" path="res://scripts/chart_editor.gd" id="8_injk5"]
[ext_resource type="Texture2D" uid="uid://cd6y6cpnvgtjh" path="res://assets/Notes.png" id="9_injk5"]

[sub_resource type="InputEventAction" id="InputEventAction_1anln"]
pressed = true

[sub_resource type="Shortcut" id="Shortcut_4opbx"]
events = [SubResource("InputEventAction_1anln")]

[sub_resource type="AtlasTexture" id="AtlasTexture_toh77"]
atlas = ExtResource("9_injk5")
region = Rect2(0, 0, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_gdcri"]
atlas = ExtResource("9_injk5")
region = Rect2(100, 0, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_f82x2"]
atlas = ExtResource("9_injk5")
region = Rect2(200, 0, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_30inh"]
atlas = ExtResource("9_injk5")
region = Rect2(300, 0, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_1ouoy"]
atlas = ExtResource("9_injk5")
region = Rect2(0, 100, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_h6031"]
atlas = ExtResource("9_injk5")
region = Rect2(100, 100, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_ocslt"]
atlas = ExtResource("9_injk5")
region = Rect2(200, 100, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_sx4nf"]
atlas = ExtResource("9_injk5")
region = Rect2(300, 100, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_0a1i1"]
atlas = ExtResource("9_injk5")
region = Rect2(0, 200, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_gx325"]
atlas = ExtResource("9_injk5")
region = Rect2(100, 200, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_qwsb5"]
atlas = ExtResource("9_injk5")
region = Rect2(200, 200, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_riqxj"]
atlas = ExtResource("9_injk5")
region = Rect2(300, 200, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_ugkr4"]
atlas = ExtResource("9_injk5")
region = Rect2(0, 300, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_8lq6s"]
atlas = ExtResource("9_injk5")
region = Rect2(100, 300, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_ei3el"]
atlas = ExtResource("9_injk5")
region = Rect2(200, 300, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_lrvg0"]
atlas = ExtResource("9_injk5")
region = Rect2(300, 300, 100, 100)

[sub_resource type="SpriteFrames" id="SpriteFrames_tfrht"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_toh77")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_gdcri")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_f82x2")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_30inh")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_1ouoy")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_h6031")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ocslt")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_sx4nf")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_0a1i1")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_gx325")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_qwsb5")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_riqxj")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ugkr4")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_8lq6s")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ei3el")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_lrvg0")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}]

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_umwmv"]
bg_color = Color(0.6, 0.6, 0.6, 0)

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_injk5"]

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_f82x2"]

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_30inh"]

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_toh77"]

[node name="Charting" type="Node"]
script = ExtResource("1_4opbx")

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(800, 500)
editor_draw_limits = true
script = ExtResource("3_toh77")

[node name="ColorRect" type="ColorRect" parent="Camera2D"]
offset_left = -800.0
offset_top = -500.0
offset_right = 800.0
offset_bottom = 500.0
color = Color(1, 0.04000002, 0.04000002, 1)

[node name="EditCreate" type="Node2D" parent="."]
script = ExtResource("2_umwmv")

[node name="Create" type="Button" parent="EditCreate"]
offset_left = 300.0
offset_top = 200.0
offset_right = 1300.0
offset_bottom = 400.0
theme_override_font_sizes/font_size = 60
shortcut = SubResource("Shortcut_4opbx")
text = "[A] Create"

[node name="Edit" type="Button" parent="EditCreate"]
offset_left = 300.0
offset_top = 600.0
offset_right = 1300.0
offset_bottom = 800.0
theme_override_font_sizes/font_size = 60
text = "[S] Edit
"

[node name="ChartList" type="Node2D" parent="."]
position = Vector2(0, 1000)
script = ExtResource("3_injk5")

[node name="Chart" type="Node2D" parent="ChartList"]
visible = false
position = Vector2(300, 425)

[node name="Background" type="ColorRect" parent="ChartList/Chart"]
offset_right = 1000.0
offset_bottom = 150.0
color = Color(0.20392157, 0.20392157, 0.20392157, 1)

[node name="Album" type="Sprite2D" parent="ChartList/Chart"]
position = Vector2(75, 75)
texture = ExtResource("2_4opbx")

[node name="Name" type="Label" parent="ChartList/Chart"]
anchors_preset = 13
anchor_left = 0.5
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = 400.0
offset_top = 40.0
offset_right = 589.0
offset_bottom = 109.0
grow_horizontal = 2
grow_vertical = 2
theme_override_font_sizes/font_size = 50
text = "Tutorial"

[node name="EditChart" type="Button" parent="ChartList"]
offset_left = 1500.0
offset_top = 435.0
offset_right = 1608.0
offset_bottom = 543.0
scale = Vector2(0.5, 0.5)
icon = ExtResource("3_rfu2s")

[node name="PlayChart" type="Button" parent="ChartList"]
offset_left = 1500.0
offset_top = 505.0
offset_right = 1608.0
offset_bottom = 613.0
scale = Vector2(0.5, 0.5)
icon = ExtResource("4_lq02i")

[node name="TopButton" type="Button" parent="ChartList"]
offset_left = 550.0
offset_top = 50.0
offset_right = 1050.0
offset_bottom = 150.0
text = "Up"

[node name="BottomButton" type="Button" parent="ChartList"]
offset_left = 550.0
offset_top = 850.0
offset_right = 1050.0
offset_bottom = 950.0
text = "Down"

[node name="ChartEditor" type="Node2D" parent="."]
position = Vector2(0, 2000)
script = ExtResource("8_injk5")

[node name="NoteList" type="Node2D" parent="ChartEditor"]
position = Vector2(100, 350)

[node name="NoteBlock" type="Node2D" parent="ChartEditor/NoteList"]

[node name="BGNumber" type="ColorRect" parent="ChartEditor/NoteList/NoteBlock"]
offset_right = 100.0
offset_bottom = 100.0
color = Color(0.2784314, 0.2784314, 0.2784314, 1)
metadata/_edit_use_anchors_ = true

[node name="BGNote" type="ColorRect" parent="ChartEditor/NoteList/NoteBlock"]
offset_top = 100.0
offset_right = 100.0
offset_bottom = 200.0
color = Color(0.3647059, 0.2784314, 0.2784314, 1)
metadata/_edit_use_anchors_ = true

[node name="BGDir" type="ColorRect" parent="ChartEditor/NoteList/NoteBlock"]
offset_top = 200.0
offset_right = 100.0
offset_bottom = 300.0
color = Color(0.2784314, 0.2784314, 0.2784314, 1)
metadata/_edit_use_anchors_ = true

[node name="Note" type="AnimatedSprite2D" parent="ChartEditor/NoteList/NoteBlock"]
position = Vector2(10, 110)
scale = Vector2(0.8, 0.8)
sprite_frames = SubResource("SpriteFrames_tfrht")
offset = Vector2(50, 50)

[node name="Dir" type="Sprite2D" parent="ChartEditor/NoteList/NoteBlock"]
position = Vector2(0, 200)
texture = ExtResource("6_snw3p")
offset = Vector2(50, 50)

[node name="Number" type="Label" parent="ChartEditor/NoteList/NoteBlock"]
offset_right = 100.0
offset_bottom = 100.0
theme_override_colors/font_color = Color(0, 0, 0, 1)
theme_override_font_sizes/font_size = 70
text = "1"
horizontal_alignment = 1
vertical_alignment = 1
metadata/_edit_use_anchors_ = true

[node name="NoteBTN" type="Button" parent="ChartEditor/NoteList/NoteBlock"]
offset_top = 100.0
offset_right = 100.0
offset_bottom = 200.0
theme_override_styles/normal = SubResource("StyleBoxFlat_umwmv")
theme_override_styles/pressed = SubResource("StyleBoxEmpty_injk5")
theme_override_styles/disabled = SubResource("StyleBoxEmpty_f82x2")
theme_override_styles/focus = SubResource("StyleBoxEmpty_30inh")

[node name="DirBTN" type="Button" parent="ChartEditor/NoteList/NoteBlock"]
offset_top = 200.0
offset_right = 100.0
offset_bottom = 300.0
theme_override_styles/normal = SubResource("StyleBoxFlat_umwmv")
theme_override_styles/pressed = SubResource("StyleBoxEmpty_injk5")
theme_override_styles/disabled = SubResource("StyleBoxEmpty_f82x2")
theme_override_styles/focus = SubResource("StyleBoxEmpty_30inh")

[node name="NewNote" type="Button" parent="ChartEditor/NoteList"]
offset_left = 650.0
offset_right = 750.0
offset_bottom = 300.0
theme_override_styles/focus = SubResource("StyleBoxEmpty_toh77")
text = "+"
metadata/_edit_use_anchors_ = true

[node name="NotePicker" type="Node2D" parent="ChartEditor"]
z_index = 999
z_as_relative = false

[node name="Background" type="ColorRect" parent="ChartEditor/NotePicker"]
offset_right = 400.0
offset_bottom = 400.0
color = Color(0.51819235, 0.5850227, 0.61618817, 1)

[node name="Notes" type="Sprite2D" parent="ChartEditor/NotePicker"]
position = Vector2(200, 200)
texture = ExtResource("9_injk5")

[node name="Control" type="Control" parent="ChartEditor/NotePicker"]
z_index = 4096
z_as_relative = false
layout_mode = 3
anchors_preset = 0
offset_right = 400.0
offset_bottom = 400.0

[node name="UI" type="Node2D" parent="ChartEditor"]

[connection signal="pressed" from="EditCreate/Create" to="EditCreate" method="_on_create_pressed"]
[connection signal="pressed" from="EditCreate/Edit" to="EditCreate" method="_on_edit_pressed"]
[connection signal="changeSong" from="ChartList" to="ChartEditor" method="_on_chart_list_change_song"]
[connection signal="pressed" from="ChartList/EditChart" to="ChartList" method="_on_edit_chart_pressed"]
[connection signal="pressed" from="ChartList/PlayChart" to="ChartList" method="_on_play_chart_pressed"]
[connection signal="pressed" from="ChartList/TopButton" to="ChartList" method="_on_top_button_pressed"]
[connection signal="pressed" from="ChartList/BottomButton" to="ChartList" method="_on_bottom_button_pressed"]
[connection signal="dirPressed" from="ChartEditor" to="ChartEditor" method="_on_dir_pressed"]
[connection signal="notePressed" from="ChartEditor" to="ChartEditor" method="_on_note_pressed"]
[connection signal="pressed" from="ChartEditor/NoteList/NewNote" to="ChartEditor" method="_on_new_note_pressed"]
[connection signal="gui_input" from="ChartEditor/NotePicker/Control" to="ChartEditor" method="_on_control_gui_input"]
